{% extends 'base/main.html' %}
{% load static %}
{% load crispy_forms_tags %}
{% block content %}


<style type="text/css">
	#div_id_tags, #id_tags{
		overflow-y: scroll;
		max-height: 100px;
		border-radius: 5px;
		padding: 5px;
		border:1px solid #888;
	}
</style>

<div class="main-container">
	<h1>Chats</h1>
	{% if request.user.is_staff %}
		<a class="btn btn-warning" href="{% url 'create_post' %}">Create Post &&&&&&&&&&</a>
	{% endif %}

	<br>
	<div class="post-wrapper">

		{% for chat in chats %}
		<div>
			<div class="post">
				<div class="post-preview">
         <li><a href="{% url 'profile' chat.recipient.slug %}">{{chat.recipient}}</a></li>
					<p class="post-intro">{{chat.recipient}}</p>
                    <a href="{% url 'chat' chat.slug %}">Написати повідомлення</a>


				</div>
			</div>
		</div>
		{% empty %}
			<h3>No posts found...</h3>
		{% endfor %}
	</div>

	<div class="row">

		{% if chats.has_other_pages %}

			<ul class="pagination">

				{% if chats.has_previous %}
					<li class="page-item"><a data-page="{{chats.previous_page_number}}" href="?page={{chats.previous_page_number}}" class="page-link">&laquo</a></li>

					<li class="page-item"><a data-page="1" href="?page=1" class="page-link">First</a></li>
				{% endif %}


				{% for i in chats.paginator.page_range %}
					{% if chats.number == i %}
						<li class="page-item"><a class="active page-link">{{i}}</a></li>
					{% else %}
						<li class="page-item"><a data-page="{{i}}" href="?page={{i}}" class="page-link">{{i}}</a></li>
					{% endif %}

				{% endfor %}


				{% if chats.has_next %}
					<li class="page-item"><a data-page="{{chats.paginator.num_pages}}" href="?page={{chats.paginator.num_pages}}" class="page-link">Last</a></li>

					<li class="page-item"><a data-page="{{chatss.next_page_number}}" href="?page={{chats.next_page_number}}" class="page-link">&raquo</a></li>
				{% endif %}
			</ul>

		{% endif %}
	</div>
</div>


{% endblock content %}